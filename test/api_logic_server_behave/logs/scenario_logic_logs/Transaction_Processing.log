
The following rules have been activated
 - 2026-02-18 08:57:49,362 - logic_logger - DEBUG
Rule Bank[0x108e4c980] (loaded 2026-02-18 08:57:35.500563)		##   - 2026-02-18 08:57:49,362 - logic_logger - INFO
Mapped Class[SurtaxLineItem] rules:		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.customs_value as Formula (1): as_expression=lambda row: row.quantity * row.unit [...]		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.duty_rate as Copy(hs_code_rate.base_duty_rate)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.surtax_rate as Copy(hs_code_rate.surtax_rate)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.duty_amount as Formula (2): as_expression=lambda row: row.customs_value * (ro [...]		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.surtax_amount as Formula (3): <function>		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.pst_hst_rate as Formula (4): <function>		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.pst_hst_amount as Formula (5): as_expression=lambda row: (row.customs_value + (r [...]		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxLineItem'>.total_amount as Formula (6): as_expression=lambda row: (row.customs_value + 		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  [...]		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Constraint Function: None 		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Constraint Function: None 		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
Mapped Class[SurtaxOrder] rules:		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.total_customs_value as Sum(SurtaxLineItem.customs_value Where  - None)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.total_duty as Sum(SurtaxLineItem.duty_amount Where  - None)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.total_surtax as Sum(SurtaxLineItem.surtax_amount Where  - None)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.total_pst_hst as Sum(SurtaxLineItem.pst_hst_amount Where  - None)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.total_amount_due as Sum(SurtaxLineItem.total_amount Where  - None)		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Derive <class 'database.models.SurtaxOrder'>.surtax_applicable as Formula (1): <function>		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
  Constraint Function: None 		##   - 2026-02-18 08:57:49,363 - logic_logger - INFO
Logic Bank - 21 rules loaded - 2026-02-18 08:57:49,363 - logic_logger - INFO
Logic Bank - 21 rules loaded - 2026-02-18 08:57:49,363 - logic_logger - INFO
